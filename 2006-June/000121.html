<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Transform-svn] r182 - in trunk/doc: . web
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/transform-svn/2006-June/index.html" >
   <LINK REL="made" HREF="mailto:transform-svn%40lists.berlios.de?Subject=Re%3A%20%5BTransform-svn%5D%20r182%20-%20in%20trunk/doc%3A%20.%20web&In-Reply-To=%3C200606290746.k5T7kwVa019629%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000120.html">
   <LINK REL="Next"  HREF="000122.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Transform-svn] r182 - in trunk/doc: . web</H1>
    <B>smackay at berlios.de</B> 
    <A HREF="mailto:transform-svn%40lists.berlios.de?Subject=Re%3A%20%5BTransform-svn%5D%20r182%20-%20in%20trunk/doc%3A%20.%20web&In-Reply-To=%3C200606290746.k5T7kwVa019629%40sheep.berlios.de%3E"
       TITLE="[Transform-svn] r182 - in trunk/doc: . web">smackay at berlios.de
       </A><BR>
    <I>Thu Jun 29 09:46:58 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000120.html">[Transform-svn] r181 - trunk/src/com/flagstone/transform
</A></li>
        <LI>Next message: <A HREF="000122.html">[Transform-svn] r183 - trunk/doc/releases
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#121">[ date ]</a>
              <a href="thread.html#121">[ thread ]</a>
              <a href="subject.html#121">[ subject ]</a>
              <a href="author.html#121">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: smackay
Date: 2006-06-29 09:46:48 +0200 (Thu, 29 Jun 2006)
New Revision: 182

Added:
   trunk/doc/web/
   trunk/doc/web/index.html
   trunk/doc/web/issues.html
   trunk/doc/web/roadmap.html
   trunk/doc/web/template.html
   trunk/doc/web/whatsnew.html
Log:
Added files from Flagstone web site project.

Added: trunk/doc/web/index.html
===================================================================
--- trunk/doc/web/index.html	2006-06-28 15:33:24 UTC (rev 181)
+++ trunk/doc/web/index.html	2006-06-29 07:46:48 UTC (rev 182)
@@ -0,0 +1,218 @@
+&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv=content-type content=&quot;text/html;  charset=ISO-8859-1&quot;&gt;
&lt;title&gt;Flagstone Software :: Transform SWF Overview&lt;/title&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/flagstone.css&quot;&gt;
&lt;script language=&quot;JavaScript&quot; src=&quot;/js/imageload.js&quot;&gt;&lt;/script&gt;
&lt;script language=&quot;JavaScript&quot; src=&quot;/js/imageswap.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;script type='text/javascript'&gt;function Go(){return}&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;/js/menu_var.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;/js/menu_com.js&quot;&gt;&lt;/script&gt;
&lt;noscript&gt;Your browser does not support script&lt;/noscript&gt;

&lt;div class=&quot;page&quot;&gt;

&lt;div class=&quot;header&quot;&gt;
&lt;img src=&quot;/images/flagstone_header.gif&quot; alt=&quot;Flagstone Software&quot; width=760 height=77&gt;
&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; border=&quot;0&quot; class=&quot;sitemenu&quot;&gt;
&lt;tr&gt;
&lt;td width=150 bgcolor=&quot;#9A1F31&quot;&gt;&lt;a href=&quot;/index.html&quot; onmouseover=&quot;imageSwap('home', 'homeOn');&quot; onmouseout=&quot;imageSwap('home', 'homeOff');&quot;&gt;&lt;img src=&quot;/images/home_off.gif&quot; alt=&quot;[Home]&quot; width=!
 77 height=29 border=0 name=&quot;home&quot;&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td width=29&gt;&lt;img src=&quot;/images/diagonal_divider.gif&quot; alt=&quot;&quot; width=29 height=29&gt;&lt;/td&gt;
&lt;td bgcolor=&quot;#C43F52&quot;&gt;&lt;div id='MenuPos' style='position:left; width:440; height:27;'&gt;&lt;img src='/images/spacer.gif' width='440' height='27'&gt;&lt;/div&gt;&lt;/td&gt;
&lt;td bgcolor=&quot;#C43F52&quot;&gt;&lt;img src='/images/spacer.gif' width='141' height='27'&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;

&lt;div class=&quot;content&quot;&gt;
+
+&lt;h1&gt;Transform SWF&lt;/h1&gt;
+
+&lt;div class=&quot;sidenav&quot;&gt;
+&lt;img src=&quot;/images/javanet_button_90.gif&quot;&gt;&lt;br /&gt;
+&lt;img src=&quot;/images/spacer&quot; width=&quot;1&quot; height=&quot;5&quot;&gt;&lt;br /&gt;
+&lt;a href=&quot;<A HREF="http://developer.berlios.de">http://developer.berlios.de</A>&quot; title=&quot;BerliOS Developer&quot;&gt;&lt;img src=&quot;<A HREF="http://developer.berlios.de/bslogo.php?group_id=5974">http://developer.berlios.de/bslogo.php?group_id=5974</A>&quot; width=&quot;93px&quot; height=&quot;24px&quot; border=&quot;0&quot; alt=&quot;BerliOS Developer Logo&quot;&gt;&lt;/a&gt;&lt;br /&gt;
+&lt;img src=&quot;/images/spacer&quot; width=&quot;1&quot; height=&quot;5&quot;&gt;&lt;br /&gt;
+&lt;a href=&quot;whatsnew.html&quot;&gt;What's New&lt;/a&gt;&lt;br /&gt;
+&lt;a href=&quot;roadmap.html&quot;&gt;Road Map&lt;/a&gt;&lt;br /&gt;
+&lt;a href=&quot;issues.html&quot;&gt;Issues &amp; Bugs&lt;/a&gt;&lt;br /&gt;
+&lt;a href=&quot;/examples.html#transform&quot;&gt;Example Code&lt;/a&gt;&lt;br /&gt;
+&lt;/div&gt;
+
+&lt;P&gt;The Transform SWF framework is a collection of classes for each of the tags 
+and data structures that make up the Flash (SWF) File Format Specification from 
+Macromedia. The classes provide a completely object-based API for parsing, 
+manipulating and generating Flash files. This allows Java based applications 
+to dynamically generate and update files that represent animations and documents 
+which can be easily distributed and displayed on any platform that supports a 
+graphical web browser.&lt;/P&gt;
+
+&lt;p&gt;In addition to the classes supporting the core API several classes provide a 
+higher level interface to reduce the level of effort required to implement 
+applications. These simplify the integration of sound and images into Flash file 
+while text can be displayed using external font files allowing presentations to 
+be localized for any spoken language.&lt;/P&gt;
+
+&lt;h2&gt;Features&lt;/h2&gt;
+
+&lt;ul&gt;
+&lt;li&gt;Fully supports the latest version of Flash - MX 2004.&lt;/li&gt;
+&lt;li&gt;Object-based API is easily expanded to support future Flash versions.&lt;/li&gt;
+&lt;li&gt;Generate files for any version of Flash.&lt;/li&gt;
+&lt;li&gt;Parse existing Flash files to deliver customised presentations.&lt;/li&gt;
+&lt;li&gt;Generate images using JPEG, PNG and BMP files.&lt;/li&gt;
+&lt;li&gt;Generate event and soundtracks from WAV and MP3 files.&lt;/li&gt;
+&lt;li&gt;Display text from AWT, OpenType or TrueType font definitions.&lt;/li&gt;
+&lt;li&gt;Comprehensive 2-D drawing API to create shapes from arbitrary complex paths.&lt;/li&gt;
+&lt;li&gt;Java 2 Standard Edition code easily integrates with web application servers.&lt;/li&gt; 
+&lt;li&gt;Frameworks are available with &lt;strong&gt;Open Source&lt;/strong&gt; licensing.&lt;/li&gt;
+&lt;/ul&gt;
+
+&lt;div class=&quot;underline&quot;&gt;&lt;/div&gt;
+
+&lt;h2&gt;Core API Examples&lt;/h2&gt;
+
+&lt;p&gt;Flash files can be built from scratch by simply constructing instances 
+of objects that represent the respective Flash data structure and adding 
+them to an FSMovie object in the order they will be executed by the 
+Flash player.&lt;/p&gt;
+
+&lt;pre&gt;
+	FSMovie movie = new FSMovie();
+	
+	movie.setFrameSize(new FSBounds(0, 0, 400, 400));
+	movie.setFrameRate(1.0);
+	
+	movie.add(new FSSetBackgroundColor(FSColor.lightblue()));
+	movie.add(new FSDefineShape(shapeId, ....));
+	movie.add(new FSPlaceObject2(shapeId, layer, x, y));
+	movie.add(new FSShowFrame());
+&lt;/pre&gt;
+
+&lt;p&gt;Complex animations are created in exactly the same way: defining the objects
+to be displayed then adding, updating or removing them from the display list.&lt;/p&gt;
+
+&lt;p&gt;The movie is then encoded to transform the objects into the binary 
+representation that will be decoded and executed by the Flash Player:&lt;/p&gt;
+
+&lt;pre&gt;
+	try {
+	    movie.encodeToFile(filename);
+	}
+	catch (Exception e) {
+	    ... Process Exception ...
+	}
+&lt;/pre&gt;
+
+&lt;p&gt;Transform SWF can also be used to parse existing Flash files and create 
+objects for each of the data structures decoded from the file.
+
+&lt;pre&gt;
+	try {
+	    FSMovie movie = new FSMovie(filename);
+	}
+	catch (Exception e) {
+	    ... Process Exception ...
+	}
+&lt;/pre&gt;
+
+&lt;p&gt;The objects may be inspected and their attributes changed accordingly 
+allowing Flash files to be used as templates to deliver customised 
+presentations.&lt;/p&gt;
+
+&lt;p&gt;More detailed &lt;a href=&quot;/examples.html&quot;&gt;examples&lt;/a&gt; are available to get you 
+started with the Transform SWF framework and how to use the concepts supported 
+in Flash.&lt;/P&gt;
+
+&lt;h2&gt;High Level Examples&lt;/h2&gt;
+
+&lt;p&gt;The classes in the framework are designed to make it easy to load images, 
+ sounds and fonts stored in files and generate the objects required to 
+ display them in a movie.&lt;/p&gt;
+
+&lt;pre&gt;
+    FSImageConstructor generator = new FSImageConstructor(&quot;image.png&quot;);
+    /*
+     * Generate the object containing the shape definition.
+     */  
+    FSDefineObject image = generator.defineImage(imageId);
+    /*
+     * All images are displayed as a bitmap fill inside a shape.
+     */
+    FSDefineShape3 shape = generator.defineEnclosingShape(shapeId, imageId, 
+        -xOrigin, -yOrigin, new FSSolidLine(borderWidth, borderColor));
+    /* 
+     * Add all the objects together to display the image.
+     */
+    movie.add(image);
+    movie.add(shape);
+    movie.add(new FSPlaceObject2(shapeId, layer, x, y));
+    movie.add(new FSShowFrame());
+&lt;/pre&gt;
+
+&lt;p&gt;Sounds can be played in response to events, such as a button being clicked:&lt;/P&gt;
+
+&lt;pre&gt;
+    FSSoundConstructor generator = new FSSoundConstructor(&quot;beep.wav&quot;);
+    /*
+     * Add the sound definition and start playing it immediately.
+     */
+    movie.add(generator.defineSound(soundId));
+    movie.add(new FSStartSound(new FSSound(soundId, FSSound.Start)));
+&lt;/pre&gt;
+
+&lt;P&gt;The FSSoundConstructor class can also be used to stream sounds 
+allowing a sound track to be easily added to a movie:&lt;/P&gt;
+
+&lt;pre&gt;
+    FSSoundConstructor generator = new FSSoundConstructor(&quot;soundtrack.mp3&quot;);
+    /* 
+     * Generate the header that describes the streaming sound.
+     */
+    movie.add(generator.streamHeader(samplesPerBlock));
+    /* 
+     * Play a block of sound for each frame shown.
+     */
+    for (int i=0; i&lt;numberOfBlocks; i++)
+    {
+        movie.add(generator.streamBlock(i, samplesPerBlock));
+        movie.add(new FSShowFrame());
+    }
+&lt;/pre&gt;
+
+&lt;p&gt;Displaying text is greatly simplified using the FSTextConstructor.
+The class may be used to generate simple strings using TrueType, Flash
+or AWT font files. Support for blocks of text and also Unicode strings is included.&lt;/p&gt;
+
+&lt;pre&gt;
+    FSTextConstructor generator = new FSTextConstructor(fontId, &quot;Arial.ttf&quot;);
+    
+    String message = &quot;Display this string.&quot;;
+    
+    FSDefineText2 text = generator.defineText(textId, message, size, color);    
+    FSDefineFont2 font = generator.defineFont();
+    
+    movie.add(font);
+    movie.add(text);
+    movie.add(new FSPlaceObject2(textId, layer, x , y));
+    movie.add(new FSShowFrame());
+&lt;/pre&gt;
+
+&lt;p&gt;The FSShapeConstructor class adds a powerful tool for drawing 
+arbitrary paths and complex shapes. A full range of drawing commands
+is supported including quadratic and Bezier curves. The class also
+supports commands for drawing simple geometric shapes.&lt;/p&gt;
+
+&lt;pre&gt;
+    FSShapeConstructor path = new FSShapeConstructor();
+    /* 
+     * The line and fill styles used to render the shapes should be 
+     * specified before drawing starts.
+     */
+    path.add(new FSSolidLine(borderWidth, borderColor));
+    path.add(new FSSolidFill(fillColor));
+    /* 
+     * Draw a rectangle with the origin at the centre of the shape.
+     */
+    newPath();
+    setStyle(0, 0);
+    move(xOrigin-width/2, yOrigin-height/2);
+    rline(width, 0);
+    rline(0, height);
+    rline(-width, 0);
+    rline(0, -height);
+    closePath();
+
+    movie.add(path.defineShape(identifier));
+&lt;/pre&gt;
+
+&lt;P&gt;The simplified examples shown are to illustrate how each of the classes 
+in the framework are used. Detailed, working code is included 
+on the &lt;a href=&quot;/examples.html&quot;&gt;Examples&lt;/a&gt; page.&lt;/p&gt;
+
+&lt;div class=&quot;underline&quot;&gt;&lt;/div&gt;
+
+&lt;h2&gt;Licensing&lt;/h2&gt;
+
+&lt;p&gt;Transform SWF framework is covered by the 
+&lt;a href=&quot;/licences/bsd.html&quot;&gt;Berkeley Software Distribution (BSD)&lt;/a&gt; 
+license. This allows you to release applications that use the framework 
+in source or binary form. The only restriction when developing Open 
+Source or commercial applications is that you acknowledge that Flagstone 
+Software Ltd. retains the copyright to the code.&lt;/p&gt;
+&lt;/div&gt;
+
&lt;div class=&quot;footer&quot;&gt;
Copyright 2001-2006, Flagstone Software. All rights reserved. 
Please read our &lt;a href=&quot;/privacy.html&quot;&gt;Privacy Policy&lt;/a&gt; and 
&lt;a href=&quot;/legal.html&quot;&gt;Legal Notices&lt;/a&gt;.
&lt;/div&gt;
&lt;/div&gt;

&lt;/body&gt;
&lt;/html&gt;
\ No newline at end of file

Added: trunk/doc/web/issues.html
===================================================================
--- trunk/doc/web/issues.html	2006-06-28 15:33:24 UTC (rev 181)
+++ trunk/doc/web/issues.html	2006-06-29 07:46:48 UTC (rev 182)
@@ -0,0 +1,411 @@
+&lt;html&gt;
+&lt;head&gt;
+&lt;meta http-equiv=content-type content=&quot;text/html;  charset=ISO-8859-1&quot;&gt;
+&lt;title&gt;Flagstone Software :: Issues &amp; Bugs in Transform SWF&lt;/title&gt;
+&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/flagstone.css&quot;&gt;
+&lt;script language=&quot;JavaScript&quot; src=&quot;/js/imageload.js&quot;&gt;&lt;/script&gt;
+&lt;script language=&quot;JavaScript&quot; src=&quot;/js/imageswap.js&quot;&gt;&lt;/script&gt;
+&lt;/head&gt;
+
+&lt;body&gt;
+&lt;script type='text/javascript'&gt;function Go(){return}&lt;/script&gt;
+&lt;script type=&quot;text/javascript&quot; src=&quot;/js/menu_var.js&quot;&gt;&lt;/script&gt;
+&lt;script type=&quot;text/javascript&quot; src=&quot;/js/menu_com.js&quot;&gt;&lt;/script&gt;
+&lt;noscript&gt;Your browser does not support script&lt;/noscript&gt;
+
+&lt;div class=&quot;page&quot;&gt;
+
+&lt;div class=&quot;header&quot;&gt;
+&lt;img src=&quot;/images/flagstone_header.gif&quot; alt=&quot;Flagstone Software&quot; width=760 height=77&gt;
+&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; border=&quot;0&quot; class=&quot;sitemenu&quot;&gt;
+&lt;tr&gt;
+&lt;td width=150 bgcolor=&quot;#9A1F31&quot;&gt;&lt;a href=&quot;/index.html&quot; onmouseover=&quot;imageSwap('home', 'homeOn');&quot; onmouseout=&quot;imageSwap('home', 'homeOff');&quot;&gt;&lt;img src=&quot;/images/home_off.gif&quot; alt=&quot;[Home]&quot; width=77 height=29 border=0 name=&quot;home&quot;&gt;&lt;/a&gt;&lt;/td&gt;
+&lt;td width=29&gt;&lt;img src=&quot;/images/diagonal_divider.gif&quot; alt=&quot;&quot; width=29 height=29&gt;&lt;/td&gt;
+&lt;td bgcolor=&quot;#C43F52&quot;&gt;&lt;div id='MenuPos' style='position:left; width:440; height:27;'&gt;&lt;img src='/images/spacer.gif' width='440' height='27'&gt;&lt;/div&gt;&lt;/td&gt;
+&lt;td bgcolor=&quot;#C43F52&quot;&gt;&lt;img src='/images/spacer.gif' width='141' height='27'&gt;&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/div&gt;
+
+&lt;div class=&quot;content&quot;&gt;
+
+&lt;H1&gt;Transform SWF: Known Issues &amp; Bugs&lt;/H1&gt;
+&lt;P&gt;Version: 2.1.2&lt;BR/&gt;Updated: 28th June 2006&lt;/P&gt;
+
+&lt;TABLE width=&quot;100%&quot;&gt;
+
+&lt;THEAD&gt;
+&lt;TR&gt;
+&lt;TH&gt;Current Issue&lt;/TH&gt;
+&lt;TH&gt;Status&lt;/TH&gt;
+&lt;TH&gt;Fix Due&lt;/TH&gt;
+&lt;/TR&gt;
+&lt;/THEAD&gt;
+
+&lt;TBODY&gt;
+
+&lt;TR&gt;
+&lt;TD&gt;1. FSTextConstructor does not decode complex glyphs from OpenType fonts.&lt;/TD&gt;
+&lt;TD&gt;Open&lt;/TD&gt;
+&lt;TD&gt;Open&lt;/TD&gt;
+&lt;/TR&gt;
+
+&lt;TR&gt;
+&lt;TD&gt;2. TextDump Tool does not decode NewFunction and NewFunction2 actions correctly.&lt;/TD&gt;
+&lt;TD&gt;Open&lt;/TD&gt;
+&lt;TD&gt;2.1.3&lt;/TD&gt;
+&lt;/TR&gt;
+
+&lt;TR&gt;
+&lt;TD&gt;3. FSDefineJPEG2 and FSDefineJPEG3 do not allow null encoding tables.&lt;/TD&gt;
+&lt;TD&gt;Open&lt;/TD&gt;
+&lt;TD&gt;2.1.3&lt;/TD&gt;
+&lt;/TR&gt;
+
+&lt;TR&gt;
+&lt;TD&gt;4. FSCoder throws exception when adding bytes longer than the current buffer size.&lt;/TD&gt;
+&lt;TD&gt;Open&lt;/TD&gt;
+&lt;TD&gt;2.1.3&lt;/TD&gt;
+&lt;/TR&gt;
+
+&lt;TR&gt;
+&lt;TD&gt;5. FSButtonSound RollOver and RollOut sounds are swapped.&lt;/TD&gt;
+&lt;TD&gt;Open&lt;/TD&gt;
+&lt;TD&gt;2.1.3&lt;/TD&gt;
+&lt;/TR&gt;
+
+&lt;TR&gt;
+&lt;TD&gt;6. The equals() method on FSPlaceObject2 objects with encoded clip event is not accurate.&lt;/TD&gt;
+&lt;TD&gt;Open&lt;/TD&gt;
+&lt;TD&gt;2.1.3&lt;/TD&gt;
+&lt;/TR&gt;
+
+&lt;TR&gt;
+&lt;TD&gt;7. The copy constructor on FSProtect can cause a NullPointerException.&lt;/TD&gt;
+&lt;TD&gt;Open&lt;/TD&gt;
+&lt;TD&gt;2.1.3&lt;/TD&gt;
+&lt;/TR&gt;
+
+&lt;/TBODY&gt;
+&lt;/TABLE&gt;
+
+&lt;TABLE width=&quot;100%&quot;&gt;
+
+&lt;THEAD&gt;
+&lt;TR&gt;
+&lt;TH&gt;Recently Fixed&lt;/TH&gt;
+&lt;TH&gt;Status&lt;/TH&gt;
+&lt;TH&gt;Release&lt;/TH&gt;
+&lt;/TR&gt;
+&lt;/THEAD&gt;
+
+&lt;TBODY&gt;
+
+&lt;TR&gt;
+&lt;TD&gt;1. FSTextConstructor does not sort font codes.&lt;/TD&gt;
+&lt;TD&gt;Fixed&lt;/TD&gt;
+&lt;TD&gt;2.1&lt;/TD&gt;
+&lt;/TR&gt;
+
+&lt;TR&gt;
+&lt;TD&gt;2. FSSoundConstructor goes into infinite loop when decoding MP3 files.&lt;/TD&gt;
+&lt;TD&gt;Fixed&lt;/TD&gt;
+&lt;TD&gt;2.1.1&lt;/TD&gt;
+&lt;/TR&gt;
+
+&lt;/TBODY&gt;
+&lt;/TABLE&gt;
+
+&lt;br/&gt;
+
+&lt;h2&gt;Current Issues&lt;/h2&gt;
+
+&lt;H3&gt;1. FSTextConstructor does not decode complex glyphs from OpenType fonts.&lt;/H3&gt;
+
+&lt;P&gt;The OpenType format for defining fonts allows new glyphs to be defined by 
+combining existing glyphs to form complex shapes. The FSTextConstructor class 
+in the current release of Transform Utilities does not currently decode complex 
+glyphs. Instead the missing character is substituted which will display a space 
+or empty box. This is currently only a major problem for eastern languages. 
+Western character sets will be displayed correctly - only rarely used symbols 
+will most likely be affected.&lt;/P&gt;
+
+&lt;H4&gt;Root Cause&lt;/H4&gt;
+
+&lt;P&gt;The FSTextConstructor code is not implemented to handle complex glyphs.&lt;/P&gt;
+
+&lt;H4&gt;Workaround?&lt;/H4&gt;
+
+&lt;P&gt;For standard ASCII characters the glyphs are displayed correctly. However for 
+characters with accents are not displayed correctly. The solution is to use 
+generate fonts using Java's AWT font objects &ndash; though decoding these fonts 
+takes significantly more time.&lt;/P&gt;
+
+&lt;H4&gt;When will it be fixed?&lt;/H4&gt;
+
+&lt;P&gt;Although Java AWT fonts are also based on font definitions from OpenType 
+files the advantages of being able to decode the font directly from the OpenType 
+file is one of performance. The OpenType font definition is complex and if the
+specification can be deciphered then support for complete glyphs will be added 
+to the current code base. No date for implementation is available at the moment.
+&lt;/P&gt;
+
+&lt;P&gt;In the long term creating a font library using Flash files is the preferred 
+solution. &ldquo;Compiling&rdquo; font definitions into a library of Flash files 
+provides the fastest possible option for creating font objects since there is no
+conversion between the way the font is encoded. This option is planned for 
+release in the next version of Transform Utilities.&lt;/P&gt;
+
+&lt;div class=&quot;hr&quot;&gt;&lt;hr/&gt;&lt;/div&gt;
+
+&lt;H3&gt;2. TextDump Tool does not decode NewFunction and NewFunction2 actions correctly.&lt;/H3&gt;
+
+&lt;P&gt;In Transform the actions NewFunction and NewFunction2 contain arrays of the 
+actions that make up the function definition. This is different from the 
+official definition from Macromedia where instead the NewFunction and 
+NewFunction2 actions contain a field giving the number of bytes following that 
+make up the function definition.&lt;/P&gt;
+
+&lt;P&gt;The bug in TextDump decodes the actions as if they were part of the 
+NewFunction[2] action but then jumps to the instruction immediately after and 
+decodes the function body actions all over again. The result is that the 
+function actions appear twice once as part of the NewFunction[2] action then 
+again as a set of actions immediately following on from the NewFunction[2] 
+action.&lt;/P&gt;
+
+&lt;H4&gt;Root Cause&lt;/H4&gt;
+
+&lt;P&gt;The root cause is a logic error in the code. The offset to the actions 
+following the body of the function is not calculated correctly.&lt;/P&gt;
+
+&lt;H4&gt;Workaround?&lt;/H4&gt;
+
+&lt;P&gt;There is no current workaround.&lt;/P&gt;
+
+&lt;H4&gt;When will it be fixed?&lt;/H4&gt;
+
+&lt;P&gt;The fix is already in the repository. It will be formally fixed when version 
+2.1.3 is released at the end of June.&lt;/P&gt;
+
+&lt;div class=&quot;hr&quot;&gt;&lt;hr/&gt;&lt;/div&gt;
+
+&lt;H3&gt;3. FSDefineJPEG2 and FSDefineJPEG3 do not allow null encoding tables.&lt;/H3&gt;
+
+&lt;P&gt;The documentation for the FSDefineJPEG2 and FSDefineJPEG3 classes state that 
+the encoding table may be set to null and the image will be displayed correctly. 
+However any object with a null encoding table will throw a NullPointerException 
+when it is encoded.&lt;/P&gt;
+
+&lt;H4&gt;Root Cause&lt;/H4&gt;
+
+&lt;P&gt;The root cause is that null passed to the setEncodingTable(byte[]) method is 
+not checked for null arguments &ndash; the null should be replaced with an empty
+encoding table: a 4 byte sequence containing a StartOfImage (SOI) and EndOfImage
+(EOI) marker, FF, D8, FF, D9.&lt;/P&gt;
+
+&lt;H4&gt;Workaround?&lt;/H4&gt;
+
+&lt;P&gt;The workaround is to pass the empty table to the constructor or 
+setEncodingTable() method:&lt;/P&gt;
+
+&lt;PRE&gt;
+    movie.add(new FSDefineJPEGImage3(movie.newIdentifier(), bytes, 
+        new byte[]{(byte)0xFF,(byte)0xD8,(byte)0xFF,(byte)0xD9}, 
+        compressedAlpha));
+&lt;/PRE&gt;
+        
+&lt;H4&gt;When will it be fixed?&lt;/H4&gt;
+
+&lt;P&gt;The fix is already in the repository. It will be formally fixed when version 
+2.1.3 is released at the end of June.&lt;/P&gt;
+
+&lt;div class=&quot;hr&quot;&gt;&lt;hr/&gt;&lt;/div&gt;
+
+&lt;H3&gt;4. FSCoder throws exception when adding bytes longer than the current buffer size.&lt;/H3&gt;
+
+&lt;P&gt;When writing a string or binary data that is longer than half the current 
+size of the internal buffer in the FSCoder object then an 
+ArrayIndexOutOfBoundsException will be thrown.&lt;/P&gt;
+
+&lt;H4&gt;Root Cause&lt;/H4&gt;
+
+&lt;P&gt;When writing data to the internal buffer if the data would overflow then the 
+buffer is resized. The size of the increase is half the current buffer size. 
+This is incorrect the amount of capacity to add should actually be half the 
+current buffer size + the size of the data being currently written. If the data
+being written is greater than half the current buffer size the new buffer size 
+is still not large enough to write all of the data and hence the exception is 
+thrown.&lt;/P&gt;
+
+&lt;H4&gt;Workaround?&lt;/H4&gt;
+
+&lt;P&gt;The workaround is to calculate in advance the correct size of the buffer so 
+it does not need to be resized. Alternatively a call to the method addCapacity()
+to increase the buffer by the required capacity before writing large mounts of 
+data.&lt;/P&gt;
+
+&lt;PRE&gt;
+    coder.addCapacity(data.length);
+    coder.writeBytes(data);
+&lt;/PRE&gt;
+
+&lt;H4&gt;When will it be fixed?&lt;/H4&gt;
+
+&lt;P&gt;The fix is already in the repository. It will be formally fixed when version 
+2.1.3 is released at the end of June.&lt;/P&gt;
+
+&lt;div class=&quot;hr&quot;&gt;&lt;hr/&gt;&lt;/div&gt;
+
+&lt;H3&gt;5. FSButtonSound RollOver and RollOut sounds are swapped.&lt;/H3&gt;
+
+&lt;P&gt;The FSButtonSound class takes 4 FSSound objects which define the sounds
+that will be played when the mouse movie a) Out of the button's active area,
+b) into the button's active area, c) when the button is clicked and d) when the
+button is released. The documentation for the class and the code are incorrect.
+The order of the mouse moving out and over are reversed so if a button is 
+created and a sound defined when the mouse moves over the button the sound is 
+actually played when the mouse moves out of the button's active area.&lt;/P&gt;
+
+&lt;H4&gt;Root Cause&lt;/H4&gt;
+
+&lt;P&gt;Incompetence ;).&lt;/P&gt;
+
+&lt;H4&gt;Workaround?&lt;/H4&gt;
+
+&lt;P&gt;The workaround is to swap the events passed to the methods:&lt;/P&gt;
+&lt;pre&gt;
+    public FSSound getSoundForEvent(int eventCode)
+    public FSSound setSoundForEvent(int eventCode, FSSound aSound)
+&lt;/pre&gt;
+
+&lt;p&gt;Swap the event codes when assigning a sound for a particular button event. 
+For example:&lt;/p&gt;
+
+&lt;PRE&gt;
+    FSButtonSound buttonSound = new FSButtonSound(secondButton.getIdentifier(), 
+            FSButtonEvent.RollOut, new FSSound(sound.getIdentifier(), 0));    
+&lt;/PRE&gt;
+
+&lt;p&gt;when setting the sound that will be played when the mouse moves over the 
+button. And:&lt;/p&gt;
+
+&lt;pre&gt;
+    FSButtonSound buttonSound1 = new FSButtonSound(firstButton.getIdentifier(), 
+            FSButtonEvent.RollOver, new FSSound(sound.getIdentifier(), 0));    
+&lt;/PRE&gt;
+
+&lt;p&gt;when setting the sound that will be played when the mouse moves out of the 
+active area of the button.&lt;/p&gt;
+
+&lt;H4&gt;When will it be fixed?&lt;/H4&gt;
+
+&lt;P&gt;The fix is already in the repository. It will be formally fixed when version 
+2.1.3 is released at the end of June.&lt;/P&gt;
+
+&lt;div class=&quot;hr&quot;&gt;&lt;hr/&gt;&lt;/div&gt;
+
+&lt;H3&gt;6. The equals method on FSPlaceObject2 objects with encoded clip event is not accurate.&lt;/H3&gt;
+
+&lt;P&gt;When a comparison is performed on two FSPlaceObject2 objects with encoded 
+clip events using the equals() method the result is only based on the 
+comparison of the encoded clip event objects.&lt;/P&gt;
+
+&lt;H4&gt;Root Cause&lt;/H4&gt;
+
+&lt;P&gt;The comparison of the encoded clip events is performed last and the result 
+from comparing the other attributes is not taken into account.&lt;/P&gt;
+
+&lt;H4&gt;Workaround?&lt;/H4&gt;
+
+&lt;P&gt;There is no workaround.&lt;/P&gt;
+
+&lt;H4&gt;When will it be fixed?&lt;/H4&gt;
+
+&lt;P&gt;The fix is already in the repository. It will be formally fixed when version 
+2.1.3 is released at the end of June.&lt;/P&gt;
+
+&lt;div class=&quot;hr&quot;&gt;&lt;hr/&gt;&lt;/div&gt;
+
+&lt;H3&gt;7. The copy constructor on FSProtect can cause a NullPointerException.&lt;/H3&gt;
+
+&lt;P&gt;When the copy constructor, FSProtect(FSProtect obj) is used and the object 
+being copied contains a null password (used for Flash 4 files) then a 
+NullPointerException will be thrown.&lt;/P&gt;
+
+&lt;H4&gt;Root Cause&lt;/H4&gt;
+
+&lt;P&gt;The cause is a failure in the method to test the password attribute for null.
+The code assumes the object contains a valid String.&lt;/P&gt;
+
+&lt;p&gt;Use of the FSProtect class is not recommended as it is trivial to remove from
+a file and so offers no protection. As a result this bug should never be 
+encounted.&lt;/p&gt;
+
+&lt;H4&gt;Workaround?&lt;/H4&gt;
+
+&lt;P&gt;The workaround is to test the password string on the object to be copied and
+if null set it to the empty string. The object can safely be copied. The string
+will not be included when the object is encoded.&lt;/P&gt;
+
+&lt;pre&gt;
+	if (obj.getPassword() == null)
+	   obj.setPassword(&quot;&quot;);
+	   
+	FSProtect copy = new FSProtect(obj);
+&lt;/pre&gt;
+
+&lt;H4&gt;When will it be fixed?&lt;/H4&gt;
+
+&lt;P&gt;The fix is already in the repository. It will be formally fixed when version 
+2.1.3 is released at the end of June.&lt;/P&gt;
+
+&lt;br/&gt;
+
+&lt;H2&gt;Recently Fixed&lt;/H2&gt;
+
+&lt;H3&gt;1. TextConstructor now sorts font codes.&lt;/H3&gt;
+
+&lt;P&gt;With the release of Transform SWF 2.1 the FSTextConstructor class now 
+generated characters codes sorted correctly in ascending order.&lt;/P&gt;
+
+&lt;P&gt;The willDisplay(char[]) method was added to FSTextConstructor to allow the 
+characters that will be used to be declared before any text or font objects are 
+generated. The new FSCharacterTable provides predefined character sets to make 
+it easy to use the new method:&lt;/P&gt;
+
+&lt;PRE&gt;
+    FSTextConstructor generator = new FSTextConstructor(...);
+    
+    char[] chars = FSCharacterTable.characterSet(FSCharacterTable.iso_8859_1);
+
+    generator.willDisplay(chars);
+    font.defineText(string, fontSize, fontColor);
+&lt;/PRE&gt;
+
+&lt;div class=&quot;hr&quot;&gt;&lt;hr/&gt;&lt;/div&gt;
+
+&lt;H3&gt;2. FSSoundConstructor goes into infinite loop when decoding MP3 files.&lt;/H3&gt;
+
+&lt;P&gt;With the release of Transform 2.1.1 the infinite loop problem caused by meta 
+data at the end of an MP3 being incorrectly interpreted is now fixed.&lt;/P&gt;
+
+&lt;H4&gt;Root Cause&lt;/H4&gt;
+
+&lt;P&gt;MP3 files with ID3 version 1 meta data was defeating the findBits method 
+which was searching for the start of frame marker (0x7FF). In combination with 
+a bug in FSCoder which prevent buffer overflows when reading the data, the 
+search would get stuck at the end of the buffer with no way of terminating.&lt;/P&gt;
+
+&lt;P&gt;The FSSoundConstructor is now able to deal with the different ID3 versions.&lt;/P&gt;
+
+&lt;/div&gt;
+&lt;div class=&quot;footer&quot;&gt;
+Copyright 2001-2006, Flagstone Software. All rights reserved. 
+Please read our &lt;a href=&quot;/privacy.html&quot;&gt;Privacy Policy&lt;/a&gt; and 
+&lt;a href=&quot;/legal.html&quot;&gt;Legal Notices&lt;/a&gt;.
+&lt;/div&gt;
+&lt;/div&gt;
+
+&lt;/body&gt;
+&lt;/html&gt;
+

Added: trunk/doc/web/roadmap.html
===================================================================
--- trunk/doc/web/roadmap.html	2006-06-28 15:33:24 UTC (rev 181)
+++ trunk/doc/web/roadmap.html	2006-06-29 07:46:48 UTC (rev 182)
@@ -0,0 +1,289 @@
+&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv=content-type content=&quot;text/html;  charset=ISO-8859-1&quot;&gt;
&lt;title&gt;Flagstone Software :: Road Map for Transform SWF&lt;/title&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/flagstone.css&quot;&gt;
&lt;script language=&quot;JavaScript&quot; src=&quot;/js/imageload.js&quot;&gt;&lt;/script&gt;
&lt;script language=&quot;JavaScript&quot; src=&quot;/js/imageswap.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;script type='text/javascript'&gt;function Go(){return}&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;/js/menu_var.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;/js/menu_com.js&quot;&gt;&lt;/script&gt;
&lt;noscript&gt;Your browser does not support script&lt;/noscript&gt;

&lt;div class=&quot;page&quot;&gt;

&lt;div class=&quot;header&quot;&gt;
&lt;img src=&quot;/images/flagstone_header.gif&quot; alt=&quot;Flagstone Software&quot; width=760 height=77&gt;
&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; border=&quot;0&quot; class=&quot;sitemenu&quot;&gt;
&lt;tr&gt;
&lt;td width=150 bgcolor=&quot;#9A1F31&quot;&gt;&lt;a href=&quot;/index.html&quot; onmouseover=&quot;imageSwap('home', 'homeOn');&quot; onmouseout=&quot;imageSwap('home', 'homeOff');&quot;&gt;&lt;img src=&quot;/images/home_off.gif&quot; alt=&quot;[Home]&quot; wi!
 dth=77 height=29 border=0 name=&quot;home&quot;&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td width=29&gt;&lt;img src=&quot;/images/diagonal_divider.gif&quot; alt=&quot;&quot; width=29 height=29&gt;&lt;/td&gt;
&lt;td bgcolor=&quot;#C43F52&quot;&gt;&lt;div id='MenuPos' style='position:left; width:440; height:27;'&gt;&lt;img src='/images/spacer.gif' width='440' height='27'&gt;&lt;/div&gt;&lt;/td&gt;
&lt;td bgcolor=&quot;#C43F52&quot;&gt;&lt;img src='/images/spacer.gif' width='141' height='27'&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;

&lt;div class=&quot;content&quot;&gt;
+
+&lt;h1&gt;Road Map for Transform SWF&lt;/h1&gt;
+
+&lt;p&gt;&lt;b&gt;Last Updated: &lt;/b&gt;4th March 2006&lt;/p&gt;
+
+&lt;p&gt; Here is the proposed sets of changes to the existing release and plans for 
+features that will be included in the next major release of Transform. As always, 
+plans are subject to change. Any suggestions, good ideas or complaints are 
+welcome.&lt;/p&gt;
+
+&lt;h2&gt;Planned Changes for Transform 2.1 (Released 7th March 2006)&lt;/h2&gt;
+
+&lt;ol&gt;
+&lt;li&gt;Deprecate the MovieListener interface and classes.&lt;/li&gt;
+&lt;li&gt;Integrate Transform Utilties classes to create a unified release.&lt;/li&gt;
+&lt;li&gt;A new class, FSCoderException will report errors when encoding and decoding files.&lt;/li&gt;
+&lt;li&gt;Lazy decoding of arrays.&lt;/li&gt;
+&lt;li&gt;Create canonical versions of simple objects.&lt;/li&gt;
+&lt;/ol&gt;
+   
+&lt;h3&gt;Deprecate the Movie Listener interface and classes.&lt;/h3&gt;
+&lt;p&gt;The FSMovieListener interface was originally used to support Describe. When a 
+movie was parsed the values decoded were reported to a FSMovieListener. This 
+allowed Describe to build a tree of objects so the contents of a Flash file 
+could be browsed.&lt;/p&gt;
+
+&lt;p&gt;The interface also allowed errors to be reported so a file could be decoded 
+even if part of it was corrupted - some third-party tools are known to contain 
+bugs that generate errors. The Flash Player is robust when encountering this 
+type of error so the Movie Listener interface was an attempt to introduce 
+robustness into Transform.&lt;/p&gt;
+
+&lt;p&gt;In practice the value of the interface was limited. Files containing errors 
+which would cause errors were relatively unusual and when an error was detected 
+it was not obvious that recovering form the error was useful.&lt;/p&gt;
+
+&lt;p&gt;The Movie Listener interface will be deprecated for version 2.1 then removed 
+in version 2.2. The classes affected are FSCoder, FSMovie, FSMovieListener and 
+FSMovieEvent.&lt;/p&gt;
+
+&lt;h3&gt;Integrate Transform Utilities classes to create a unified release.&lt;/h3&gt;
+
+&lt;p&gt;For Transform 2.1 the Transform Utilities classes will be included into 
+releases of the Transform framework. Previous editions of the roadmap proposed
+merging the packages together however the benefits do not justify the changes
+to existing code - though only import statements would be affected.&lt;/p&gt;
+
+&lt;h3&gt;A new class, FSCoderException will report errors when encoding and decoding files.&lt;/h3&gt;
+
+&lt;p&gt;If an error occurs when encoding or decoding a movie then an IOException is 
+reported (in methods where MovieListener is not used). A new exception class 
+FSCoderException will be used to report the object and location in the file 
+that causes the error. This will give the benefits that the MovieListener
+interface provided by accurately reporting the location in a file so that the 
+error can be debugged. The exception will be a subclass of IOException so no API
+changes are required.&lt;/P&gt;
+
+&lt;h3&gt;Lazy decoding of arrays.&lt;/h3&gt;
+
+&lt;p&gt;When using a Flash file as a template the changes are at a high level, for 
+example replacing images, sounds, shapes and text. As a result decoding the 
+small-grain objects in a file is a waste of resources. Examples of small grain 
+objects are:
+
+&lt;ul&gt;
+&lt;li&gt;Actions&lt;/li&gt;
+&lt;li&gt;Line and fill styles&lt;/li&gt;
+&lt;li&gt;Shape elements: FSLine, FSCurve and FSShapeStyle&lt;/li&gt;
+&lt;li&gt;Sound envelopes&lt;/li&gt;
+&lt;li&gt;Gradient Fills&lt;/li&gt;
+&lt;li&gt;Text Characters&lt;/li&gt;
+&lt;/ul&gt;
+&lt;/p&gt;
+
+&lt;p&gt;Arrays containing small-grained objects will be lazily decoded when an 
+accessor method is used for the first time to access the array. The decoding 
+process will be completely hidden and the use of some of the new collection 
+classes, see below should simplify the process.&lt;/p&gt;
+
+&lt;p&gt;Originally this idea was planned for Transform 3.0 however in a quiet moment
+I tried it for actions and shapes (in shape definitions and fonts). The 
+performance gains are enormous. Benchmarked on a suite of nearly 400 &quot;real-world&quot;
+Flash files the speed of decoding a file was between 0 and 420 times faster!!! 
+The larger the file the more impressive the figure. The average improvement was 
+still 15 times.&lt;/p&gt;
+
+&lt;P&gt;So lazy decoding of actions and shapes are in for release 2.1. Lazy decoding
+of line and fill styles, gradients and text are probably not worth it given 
+that the number of objects involved is small - it might not be worthwhile even
+for version 3.0.&lt;/p&gt;
+
+&lt;h3&gt;Create canonical versions of simple objects.&lt;/h3&gt;
+
+&lt;p&gt;Another optimisation that should speed up the process of decoding Flash files 
+is to replace constant objects with canonical versions. Byte-code actions, 
+created using the FSAction class are the obvious example. Rather than creating 
+repeated copies of objects representing simple operations such as additions, 
+class methods such as FSAction.Add() will return a reference to a constant 
+singleton.&lt;/p&gt;
+
+&lt;p&gt;This update is trivial in comparison to lazy decoding of actions but it 
+should make a difference if only in Translate which deals with nothing but
+actions, particularly if the compiler is being used on a server to compile 
+large numbers of scripts.&lt;/p&gt;
+
+&lt;h2&gt;Proposed Changes for Transform 3.0&lt;/h2&gt;
+&lt;p&gt;Over the past year I have been involved in projects that used existing Flash 
+files as a template. Transform was used to decode the file then update or 
+replace objects to create a customised version.&lt;/p&gt;
+
+&lt;p&gt;The changes proposed for Transform 3.0 will update the code to include all 
+the lessons learned from this work and also generally clean up the code base - 
+fixing mistakes, dumb decisions and generally making the framework easier to 
+use.&lt;/p&gt;
+
+&lt;p&gt;Architecturally the changes should be minor - the same philosophy of 
+providing a low-level API which exposes all the data structures in a Flash file 
+as objects will be maintained. Files will still be generated and parsed in the 
+same way. Most of the changes will essentially be cosmetic - fixing code that 
+simply bad or poorly implemented. As a result migrating code from Transform 2 
+to Transform 3 should be very simple and extensive rewrites will not be 
+necessary.&lt;/p&gt;
+
+&lt;p&gt;The current list of changes are:
+
+&lt;ul&gt;
+&lt;li&gt;Flatten class hierarchy and use interfaces to identify object types.&lt;/li&gt;
+&lt;li&gt;Enforce encapsulation and add support for references.&lt;/li&gt;
+&lt;li&gt;Simplify constructors and add factory methods.&lt;/li&gt;
+&lt;li&gt;More use of Java 'native' classes.&lt;/li&gt;
+&lt;li&gt;Changes to existing classes.
+&lt;ul&gt;
+&lt;li&gt;Rename FSGradient to FSGradientColor.&lt;/li&gt;
+&lt;li&gt;Rename FSEnvelope to FSSoundLevel.&lt;/li&gt;
+&lt;li&gt;Rename FSShapeStyle to FSStyle.&lt;/li&gt;
+&lt;li&gt;Rename FSUnknownObject to FSBinaryObject.&lt;/li&gt;
+&lt;/ul&gt;
+&lt;/li&gt;
+&lt;li&gt;New Classes
+&lt;ul&gt;
+&lt;li&gt;FSFrame - similar to the Frame class on the Useful Code page.&lt;/li&gt;
+&lt;li&gt;FSLayer - a collection class for Frames.&lt;/li&gt;
+&lt;li&gt;FSScript - a wrapper for encoded actions generated by Translate.&lt;/li&gt;
+&lt;li&gt;FSEnvelope - a collection class for FSSoundLevels.&lt;/li&gt;
+&lt;li&gt;FSGradient - a collection class for FSGradientColors.&lt;/li&gt;
+&lt;li&gt;FSGlyph - a collection class for font information.&lt;/li&gt;
+&lt;/ul&gt;
+&lt;/li&gt;
+&lt;/ul&gt;
+      
+&lt;h3&gt;Flatten class hierarchy and use interfaces to identify object types.&lt;/h3&gt;
+
+&lt;p&gt;In short the current class hierarchy: FSTransformObject -&gt; FSMovieObject -&gt; 
+FSDefineObject adds very little to the project. Code reuse is minimal and the 
+overhead slows down the encoding and decoding of files.&lt;/p&gt;
+
+&lt;p&gt;To fix this the hierarchy will be flattened to a single level. For code that 
+need to identify where an object was a definition or a display list command Java 
+interfaces will be used to effectively create types of object. For example 
+rather than inheriting from FSTransformObject objects will implement the 
+FSTransformable interface which defines where an object knows how to encode and 
+decode itself from binary data.&lt;/p&gt;
+
+&lt;p&gt;Examples of the interfaces that will be defined include:
+
+&lt;pre&gt;
+public interface Transformable
+{
+    public int decode(FSCoder coder);
+    public void precode(FSCoder coder);
+    public int encode(FSCoder coder);
+}
+
+public interface MovieObject
+{
+    public int getType();
+    public boolean isDefinition();
+    public boolean isShape();
+    public boolean isImage();
+    public boolean isSound();
+    public boolean isFont();
+    public boolean isText();
+}
+public interface DefinitionObject
+{
+    public int getIdentifier();
+    public void setIdentifier(int identifier);
+}
+&lt;/pre&gt;
+&lt;/P&gt;
+
+&lt;p&gt;The methods, of course, is all subject to change should a better idea come 
+to light.&lt;/p&gt;
+
+&lt;h3&gt;Enforce encapsulation and add support for references.&lt;/h3&gt;
+
+&lt;p&gt;Flash files are simply large data structures. An object in Transform is 
+simply a data structure that knows how to encode and decode itself. As a result 
+a deliberate decision was taken to break encapsulation and support accessor 
+methods that simply used references rather than copies. This avoided the 
+overhead of creating trees of objects whenever the objects in a Flash file were 
+traversed. Enforcing encapsulation would have required creating several trees 
+of objects as the graph was traversed to change for example a small-grained 
+object such as a shape's colour.&lt;/p&gt;
+
+&lt;p&gt;The move to use lazily decoded arrays potentially requires encapsulation to 
+be enforced since it would make it explicitly clear when an array of objects 
+was modified and required encoding when a files was saved.&lt;/p&gt;
+
+&lt;p&gt;For the 3.0 release the default policy will most likely be that normal 
+get/set accessor methods create copies of objects. Methods will be added to 
+return references so that excessive copying when traversing the object tree is 
+avoided.&lt;/p&gt;
+
+&lt;h3&gt;Simplify constructors and add factory methods.&lt;/h3&gt;
+
+&lt;p&gt;Constructors for simple objects such as shape definitions and some display 
+list commands are easy to use. However for multipurpose objects which have 
+optional attributes including constructors for every option is tedious and 
+confusing, FSPlaceObject2 is the obvious culprit.&lt;/p&gt;
+
+&lt;p&gt;For Transform 3.0 it is proposed to include a fixed, basic set of 
+constructors then add factory methods to generate objects with specific set of 
+attributes. The current basic set of constructors includes:&lt;/p&gt;
+
+&lt;pre&gt;
+   FSObject()                 /* create with default values */
+   FSObject(values...)        /* create with a specific set of values */
+   FSObject(FSCoder coder)    /* initialise from binary encoded data */
+   FSObject(FSObject object)  /* copy constructor */
+&lt;/pre&gt;
+
+&lt;p&gt;The copy constructor will be used to replace the clone() method, largely for 
+aesthetic reasons.&lt;/p&gt;
+
+&lt;h3&gt;More use of Java 'native' classes.&lt;/h3&gt;
+
+&lt;p&gt;The FSMovie class is the obvious example of how classes in Transform fail to 
+make use of Java classes. Rather than using File objects the names of Flash 
+files are presented using Strings - which are used internally to create File 
+objects. This situation arose as I wanted to keep the API for the Java and C++ 
+versions as close as possible to minimise the effort of maintaining the code - 
+a poor decision. So Transform 3.0 will make better use of Java objects to provide 
+a more 'natural' API.&lt;/p&gt;
+
+&lt;h3&gt;Changes to existing classes.&lt;/h3&gt;
+
+&lt;p&gt;With a new version comes a chance to clean up and ugliness. The following 
+classes will be renamed to make their role clearer and hopefully more intuitive:&lt;/p&gt;
+
+&lt;ul&gt;
+&lt;li&gt;Rename FSGradient to FSGradientColor to support the new FSGradient collection class for FSGradientColours - specifying how the colour of a shape changes across the Gradient Square.&lt;/li&gt;
+&lt;li&gt;Rename FSEnvelope to FSSoundLevel to support the new FSEnvelope collection class for a FSSoundLevels which describes the waveform applied to a sound.&lt;/li&gt;
+&lt;li&gt;Rename FSShapeStyle to FSStyle - easier to type.&lt;/li&gt;
+&lt;li&gt;Rename FSUnknownObject to FSBinaryObject - binary objects can be used explicitly by Transform Utilities classes to generate encoded version of objects.&lt;/li&gt;
+&lt;/ul&gt;
+ 
+&lt;h3&gt;New Classes&lt;/h3&gt;
+
+&lt;p&gt;The new classes that will be added in Transform 3.0 are designed to support 
+lazy decoding of arrays of small-grained objects.  FSScript, FSEnvelope, 
+FSGradient are  simple collection classes.&lt;/p&gt;
+
+&lt;p&gt;FSGlyph is more complicated as it will support all the information that 
+describes a font glyph: shape, advance, character code and bounding box. This 
+will simply the use of the FSTextConstructor class in Tranform Utilities and 
+handling of the FSDefineFont2 class in Transform.&lt;/p&gt;
+
+&lt;p&gt;The two most interesting new classes are FSFrame and FSLayer. FSFrame is an 
+upgraded version of the Frame class currently available on the Useful Code page. 
+Adding a frame number attribute increases the potential uses of Transform 
+enormously:&lt;/p&gt;
+
+&lt;ul&gt;
+&lt;li&gt;Adding code to Transform to support animation of objects now becomes much 
+easier: simply create two frames defining the start and final positions of an 
+object then pass then to a method (yet to be defined) to interpolate the 
+object's position as the animation is played frame-by-frame.&lt;/li&gt;
+&lt;li&gt;When combined with the Layer object it simplifies creating animations. 
+Separate layers for each object to be animated can be created. Including the 
+number in each frame object allows a collection of Layers to be easily 
+flattened to create the final animation. Currently all the objects must be 
+created and positioned for successive frames - this makes creating of complex 
+animations with Transform next to impossible without careful coding.&lt;/li&gt;
+&lt;/ul&gt;
+
+    
+      &lt;/div&gt;
&lt;div class=&quot;footer&quot;&gt;
Copyright 2001-2005, Flagstone Software. All rights reserved. 
Please read our &lt;a href=&quot;/privacy.html&quot;&gt;Privacy Policy&lt;/a&gt; and 
&lt;a href=&quot;/legal.html&quot;&gt;Legal Notices&lt;/a&gt;.
&lt;/div&gt;
&lt;/div&gt;

&lt;/body&gt;
&lt;/html&gt;
\ No newline at end of file

Added: trunk/doc/web/template.html
===================================================================
--- trunk/doc/web/template.html	2006-06-28 15:33:24 UTC (rev 181)
+++ trunk/doc/web/template.html	2006-06-29 07:46:48 UTC (rev 182)
@@ -0,0 +1 @@
+&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv=content-type content=&quot;text/html;  charset=ISO-8859-1&quot;&gt;
&lt;title&gt;Flagstone Software :: {{$title}}&lt;/title&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/flagstone.css&quot;&gt;
&lt;script language=&quot;JavaScript&quot; src=&quot;/js/imageload.js&quot;&gt;&lt;/script&gt;
&lt;script language=&quot;JavaScript&quot; src=&quot;/js/imageswap.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;script type='text/javascript'&gt;function Go(){return}&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;/js/menu_var.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;/js/menu_com.js&quot;&gt;&lt;/script&gt;
&lt;noscript&gt;Your browser does not support script&lt;/noscript&gt;

&lt;div class=&quot;page&quot;&gt;

&lt;div class=&quot;header&quot;&gt;
&lt;img src=&quot;/images/flagstone_header.gif&quot; alt=&quot;Flagstone Software&quot; width=760 height=77&gt;
&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; border=&quot;0&quot; class=&quot;sitemenu&quot;&gt;
&lt;tr&gt;
&lt;td width=150 bgcolor=&quot;#9A1F31&quot;&gt;&lt;a href=&quot;/index.html&quot; onmouseover=&quot;imageSwap('home', 'homeOn');&quot; onmouseout=&quot;imageSwap('home', 'homeOff');&quot;&gt;&lt;img src=&quot;/images/home_off.gif&quot; alt=&quot;[Home]&quot; width=77 height=29!
  border=0 name=&quot;home&quot;&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td width=29&gt;&lt;img src=&quot;/images/diagonal_divider.gif&quot; alt=&quot;&quot; width=29 height=29&gt;&lt;/td&gt;
&lt;td bgcolor=&quot;#C43F52&quot;&gt;&lt;div id='MenuPos' style='position:left; width:440; height:27;'&gt;&lt;img src='/images/spacer.gif' width='440' height='27'&gt;&lt;/div&gt;&lt;/td&gt;
&lt;td bgcolor=&quot;#C43F52&quot;&gt;&lt;img src='/images/spacer.gif' width='141' height='27'&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;

&lt;div class=&quot;content&quot;&gt;{{$pageContents}}&lt;/div&gt;
&lt;div class=&quot;footer&quot;&gt;
Copyright 2001-2005, Flagstone Software. All rights reserved. 
Please read our &lt;a href=&quot;/privacy.html&quot;&gt;Privacy Policy&lt;/a&gt; and 
&lt;a href=&quot;/legal.html&quot;&gt;Legal Notices&lt;/a&gt;.
&lt;/div&gt;
&lt;/div&gt;

&lt;/body&gt;
&lt;/html&gt;
\ No newline at end of file

Added: trunk/doc/web/whatsnew.html
===================================================================
--- trunk/doc/web/whatsnew.html	2006-06-28 15:33:24 UTC (rev 181)
+++ trunk/doc/web/whatsnew.html	2006-06-29 07:46:48 UTC (rev 182)
@@ -0,0 +1,90 @@
+&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv=content-type content=&quot;text/html;  charset=ISO-8859-1&quot;&gt;
&lt;title&gt;Flagstone Software :: What's New With Transform SWF&lt;/title&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/flagstone.css&quot;&gt;
&lt;script language=&quot;JavaScript&quot; src=&quot;/js/imageload.js&quot;&gt;&lt;/script&gt;
&lt;script language=&quot;JavaScript&quot; src=&quot;/js/imageswap.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;script type='text/javascript'&gt;function Go(){return}&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;/js/menu_var.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;/js/menu_com.js&quot;&gt;&lt;/script&gt;
&lt;noscript&gt;Your browser does not support script&lt;/noscript&gt;

&lt;div class=&quot;page&quot;&gt;

&lt;div class=&quot;header&quot;&gt;
&lt;img src=&quot;/images/flagstone_header.gif&quot; alt=&quot;Flagstone Software&quot; width=760 height=77&gt;
&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; border=&quot;0&quot; class=&quot;sitemenu&quot;&gt;
&lt;tr&gt;
&lt;td width=150 bgcolor=&quot;#9A1F31&quot;&gt;&lt;a href=&quot;/index.html&quot; onmouseover=&quot;imageSwap('home', 'homeOn');&quot; onmouseout=&quot;imageSwap('home', 'homeOff');&quot;&gt;&lt;img src=&quot;/images/home_off.gif&quot; alt=&quot;[Home]&quot;!
  width=77 height=29 border=0 name=&quot;home&quot;&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td width=29&gt;&lt;img src=&quot;/images/diagonal_divider.gif&quot; alt=&quot;&quot; width=29 height=29&gt;&lt;/td&gt;
&lt;td bgcolor=&quot;#C43F52&quot;&gt;&lt;div id='MenuPos' style='position:left; width:440; height:27;'&gt;&lt;img src='/images/spacer.gif' width='440' height='27'&gt;&lt;/div&gt;&lt;/td&gt;
&lt;td bgcolor=&quot;#C43F52&quot;&gt;&lt;img src='/images/spacer.gif' width='141' height='27'&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;

&lt;div class=&quot;content&quot;&gt;
+
+&lt;h1&gt;What's New With Transform SWF&lt;/h1&gt;
+
+&lt;p&gt;Here is a brief summary of all the releases of the Transform SWF framework.
+The release notes link describe all the features, update and bug fixes included
+in each release.&lt;/P&gt;
+
+&lt;table class=&quot;release&quot;&gt;
+
+&lt;tr&gt;
+&lt;th class=&quot;date&quot;&gt;Date&lt;/th&gt;
+&lt;th class=&quot;version&quot;&gt;Version&lt;/th&gt;
+&lt;th&gt;Description&lt;/th&gt;
+&lt;th class=&quot;release&quot;&gt;Details&lt;/th&gt;
+&lt;/tr&gt;
+
+&lt;tr class=&quot;even&quot;&gt;
+&lt;td class=&quot;date&quot;&gt;3rd April 2006&lt;/td&gt;
+&lt;td class=&quot;version&quot;&gt;2.1.2&lt;/td&gt;
+&lt;td class=&quot;description&quot;&gt;Bugs fixes, mostly to the FSTextConstructor class.&lt;/td&gt;
+&lt;td class=&quot;release&quot;&gt;&lt;a href=&quot;/downloads/transform-2.1.2.txt&quot;&gt;release notes&lt;/a&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+
+&lt;tr class=&quot;odd&quot;&gt;
+&lt;td class=&quot;date&quot;&gt;13th March 2006&lt;/td&gt;
+&lt;td class=&quot;version&quot;&gt;2.1.1&lt;/td&gt;
+&lt;td class=&quot;description&quot;&gt;Bug fix for the infinite loop problem when decoding MP3 files.&lt;/td&gt;
+&lt;td class=&quot;release&quot;&gt;&lt;a href=&quot;/downloads/transform-2.1.1.txt&quot;&gt;release notes&lt;/a&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+
+&lt;tr class=&quot;even&quot;&gt;
+&lt;td class=&quot;date&quot;&gt;7th March 2006&lt;/td&gt;
+&lt;td class=&quot;version&quot;&gt;2.1&lt;/td&gt;
+&lt;td class=&quot;description&quot;&gt;Release now integrates Transform Utilities. Brought forward several improvements planned for version 3.0.&lt;/td&gt;
+&lt;td class=&quot;release&quot;&gt;&lt;a href=&quot;/downloads/transform-2.1.txt&quot;&gt;release notes&lt;/a&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+
+&lt;tr class=&quot;odd&quot;&gt;
+&lt;td class=&quot;date&quot;&gt;20th February 2006&lt;/td&gt;
+&lt;td class=&quot;version&quot;&gt;2.0.5&lt;/td&gt;
+&lt;td class=&quot;description&quot;&gt;More bug fixes discovered using new test suites.&lt;/td&gt;
+&lt;td class=&quot;release&quot;&gt;&lt;a href=&quot;/downloads/transform-2.0.5.txt&quot;&gt;release notes&lt;/a&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+
+&lt;tr class=&quot;even&quot;&gt;
+&lt;td class=&quot;date&quot;&gt;4th October 2005&lt;/td&gt;
+&lt;td class=&quot;version&quot;&gt;2.0.4&lt;/td&gt;
+&lt;td&gt;Simplified package organisation and fixed coordinate transform bug.&lt;/td&gt;
+&lt;td class=&quot;release&quot;&gt;&lt;a href=&quot;/downloads/transform-java-2.0.4.txt&quot;&gt;release notes&lt;/a&gt;&lt;/td&gt;
+&lt;/tr&gt;
+
+&lt;tr class=&quot;odd&quot;&gt;
+&lt;td class=&quot;date&quot;&gt;12th October 2004&lt;/td&gt;
+&lt;td class=&quot;version&quot;&gt;2.0.3&lt;/td&gt;
+&lt;td&gt;Transform SWF is now covered by a BSD license.&lt;/td&gt;
+&lt;td&gt;&lt;a href=&quot;/downloads/transform-java-2.0.3.txt&quot;&gt;release notes&lt;/a&gt;&lt;/td&gt;
+&lt;/tr&gt;
+
+&lt;tr class=&quot;even&quot;&gt;
+&lt;td class=&quot;date&quot;&gt;14th June 2004&lt;/td&gt;
+&lt;td class=&quot;version&quot;&gt;2.0.2&lt;/td&gt;
+&lt;td&gt;Sets the default signature for the FSMovie class correctly. Adds methods to 
+classes containing actions so binary encoded actions, generated by Translate 
+AS1, can be added to movies.&lt;/td&gt;
+&lt;td class=&quot;release&quot;&gt;&lt;a href=&quot;/downloads/transform-java-2.0.2.txt&quot;&gt;release notes&lt;/a&gt;&lt;/td&gt;
+&lt;/tr&gt;
+
+&lt;tr class=&quot;odd&quot;&gt;
+&lt;td class=&quot;date&quot;&gt;6th June 2004&lt;/td&gt;
+&lt;td class=&quot;version&quot;&gt;2.0.1&lt;/td&gt;
+&lt;td&gt;Fixes a bug in the FSProtect, FSEnableDebugger and FSEnableDebugger2 classes 
+which fails to decode the password field correctly.&lt;/td&gt;
+&lt;td class=&quot;release&quot;&gt;&lt;a href=&quot;/downloads/transform-java-2.0.1.txt&quot;&gt;release notes&lt;/a&gt;&lt;/td&gt;
+&lt;/tr&gt;
+
+&lt;tr class=&quot;even&quot;&gt;
+&lt;td class=&quot;date&quot;&gt;6th April 2004&lt;/td&gt;
+&lt;td class=&quot;version&quot;&gt;2.0.0&lt;/td&gt;
+&lt;td&gt;Completely restructured and overhauled the entire framework to boost performance 
+and reduce code size.&lt;/td&gt;
+&lt;td class=&quot;release&quot;&gt;&lt;a href=&quot;/downloads/transform-java-2.0.0.txt&quot;&gt;release notes&lt;/a&gt;&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+
+&lt;/div&gt;
&lt;div class=&quot;footer&quot;&gt;
Copyright 2001-2006, Flagstone Software. All rights reserved. 
Please read our &lt;a href=&quot;/privacy.html&quot;&gt;Privacy Policy&lt;/a&gt; and 
&lt;a href=&quot;/legal.html&quot;&gt;Legal Notices&lt;/a&gt;.
&lt;/div&gt;
&lt;/div&gt;

&lt;/body&gt;
&lt;/html&gt;
\ No newline at end of file


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000120.html">[Transform-svn] r181 - trunk/src/com/flagstone/transform
</A></li>
	<LI>Next message: <A HREF="000122.html">[Transform-svn] r183 - trunk/doc/releases
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#121">[ date ]</a>
              <a href="thread.html#121">[ thread ]</a>
              <a href="subject.html#121">[ subject ]</a>
              <a href="author.html#121">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/transform-svn">More information about the Transform-svn
mailing list</a><br>
</body></html>
